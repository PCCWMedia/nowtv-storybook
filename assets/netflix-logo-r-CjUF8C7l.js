import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{r as C,e as I}from"./iframe-kdiCije1.js";import{g as M,S as U,a as $}from"./swiper-DDlNALxh.js";import{P as z}from"./pagination-Dccgd3x9.js";import{B as X}from"./Button-Yn5l2vi8.js";import{L as A}from"./Link-aEUISNFh.js";import{H as W}from"./HeroTermsOverlay-BR2bvHkL.js";function G(T){let{swiper:e,extendParams:N,on:y,emit:d,params:c}=T;e.autoplay={running:!1,paused:!1,timeLeft:0},N({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let E,V,j=c&&c.autoplay?c.autoplay.delay:3e3,v=c&&c.autoplay?c.autoplay.delay:3e3,i,S=new Date().getTime(),k,t,a,l,p,s,o;function u(n){!e||e.destroyed||!e.wrapperEl||n.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",u),!(o||n.detail&&n.detail.bySwiperTouchMove)&&x())}const f=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?k=!0:k&&(v=i,k=!1);const n=e.autoplay.paused?i:S+v-new Date().getTime();e.autoplay.timeLeft=n,d("autoplayTimeLeft",n,n/j),V=requestAnimationFrame(()=>{f()})},h=()=>{let n;return e.virtual&&e.params.virtual.enabled?n=e.slides.find(m=>m.classList.contains("swiper-slide-active")):n=e.slides[e.activeIndex],n?parseInt(n.getAttribute("data-swiper-autoplay"),10):void 0},w=n=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(V),f();let b=typeof n>"u"?e.params.autoplay.delay:n;j=e.params.autoplay.delay,v=e.params.autoplay.delay;const m=h();!Number.isNaN(m)&&m>0&&typeof n>"u"&&(b=m,j=m,v=m),i=b;const D=e.params.speed,R=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(D,!0,!0),d("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,D,!0,!0),d("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(D,!0,!0),d("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,D,!0,!0),d("autoplay")),e.params.cssMode&&(S=new Date().getTime(),requestAnimationFrame(()=>{w()})))};return b>0?(clearTimeout(E),E=setTimeout(()=>{R()},b)):requestAnimationFrame(()=>{R()}),b},H=()=>{S=new Date().getTime(),e.autoplay.running=!0,w(),d("autoplayStart")},g=()=>{e.autoplay.running=!1,clearTimeout(E),cancelAnimationFrame(V),d("autoplayStop")},L=(n,b)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(E),n||(s=!0);const m=()=>{d("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",u):x()};if(e.autoplay.paused=!0,b){p&&(i=e.params.autoplay.delay),p=!1,m();return}i=(i||e.params.autoplay.delay)-(new Date().getTime()-S),!(e.isEnd&&i<0&&!e.params.loop)&&(i<0&&(i=0),m())},x=()=>{e.isEnd&&i<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(S=new Date().getTime(),s?(s=!1,w(i)):w(),e.autoplay.paused=!1,d("autoplayResume"))},O=()=>{if(e.destroyed||!e.autoplay.running)return;const n=M();n.visibilityState==="hidden"&&(s=!0,L(!0)),n.visibilityState==="visible"&&x()},P=n=>{n.pointerType==="mouse"&&(s=!0,o=!0,!(e.animating||e.autoplay.paused)&&L(!0))},_=n=>{n.pointerType==="mouse"&&(o=!1,e.autoplay.paused&&x())},B=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",P),e.el.addEventListener("pointerleave",_))},F=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",P),e.el.removeEventListener("pointerleave",_))},Z=()=>{M().addEventListener("visibilitychange",O)},q=()=>{M().removeEventListener("visibilitychange",O)};y("init",()=>{e.params.autoplay.enabled&&(B(),Z(),H())}),y("destroy",()=>{F(),q(),e.autoplay.running&&g()}),y("_freeModeStaticRelease",()=>{(a||s)&&x()}),y("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?g():L(!0,!0)}),y("beforeTransitionStart",(n,b,m)=>{e.destroyed||!e.autoplay.running||(m||!e.params.autoplay.disableOnInteraction?L(!0,!0):g())}),y("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){g();return}t=!0,a=!1,s=!1,l=setTimeout(()=>{s=!0,a=!0,L(!0)},200)}}),y("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!t)){if(clearTimeout(l),clearTimeout(E),e.params.autoplay.disableOnInteraction){a=!1,t=!1;return}a&&e.params.cssMode&&x(),a=!1,t=!1}}),y("slideChange",()=>{e.destroyed||!e.autoplay.running||(p=!0)}),Object.assign(e.autoplay,{start:H,stop:g,pause:L,resume:x})}const J=({slides:T})=>{const[e,N]=C.useState(!1),[y,d]=C.useState([]),[c,E]=C.useState({}),[V,j]=C.useState({}),v=t=>{const a=t.match(/<p[\s\S]*?>[\s\S]*?<\/p>/gi);return a?a.map(l=>l.replace(/<\/?p[\s\S]*?>/gi,"")):[t]},i=C.useRef({});C.useEffect(()=>{T.forEach(t=>{const a=t.id;v(t.content.description).forEach((p,s)=>{var u,f,h;const o=(f=(u=i.current)==null?void 0:u[a])==null?void 0:f[s];if(o){const w=o.style.webkitLineClamp;o.style.webkitLineClamp=(h=c[a])!=null&&h[s]?"7":"4";const H=o.scrollHeight>o.clientHeight+1;j(g=>({...g,[a]:{...g[a]||{},[s]:H}})),o.style.webkitLineClamp=w}})})},[T]),C.useEffect(()=>{const t=()=>{T.forEach(a=>{const l=a.id;v(a.content.description).forEach((s,o)=>{var f,h,w;const u=(h=(f=i.current)==null?void 0:f[l])==null?void 0:h[o];if(u){const H=u.style.webkitLineClamp;u.style.webkitLineClamp=(w=c[l])!=null&&w[o]?"7":"4";const g=u.scrollHeight>u.clientHeight+1;j(L=>({...L,[l]:{...L[l]||{},[o]:g}})),u.style.webkitLineClamp=H}})})};return window.addEventListener("resize",t),t(),()=>{window.removeEventListener("resize",t)}},[T,c]);const S=t=>{d(t),N(!0)},k=(t,a)=>{E(l=>{var p;return{...l,[t]:{...l[t]||{},[a]:!((p=l[t])!=null&&p[a])}}})};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hero-banner",children:r.jsx(U,{pagination:{clickable:!0},autoplay:{delay:8e3,disableOnInteraction:!1},modules:[z,G],className:"mySwiper",children:T.map(t=>{const a=t.id,l=v(t.content.description);return i.current[a]||(i.current[a]={}),r.jsxs($,{id:t.id,style:t.content.backgroundColor?{"--banner-bg-color":t.content.backgroundColor}:void 0,children:[r.jsxs("picture",{children:[r.jsx("source",{type:"image/jpeg",media:"(max-width: 991px)",srcSet:t.image.mobile}),r.jsx("source",{type:"image/jpeg",media:"(min-width: 992px)",srcSet:t.image.desktop}),r.jsx("img",{src:t.image.desktop,srcSet:`${t.image.mobile} 991w, ${t.image.desktop} 992w`,alt:""})]}),r.jsxs("div",{className:`banner-content ${t.content.isDark?"dark":""} ${t.content.isCentered?"text-center":""}`,children:[t.content.titleArt&&r.jsx("img",{src:t.content.titleArt,alt:"",className:"title-art"}),t.content.subtitle&&r.jsx("h5",{children:t.content.subtitle}),t.content.title&&r.jsx("h2",{children:t.content.title}),l.map((p,s)=>{var o,u,f;return r.jsxs(I.Fragment,{children:[r.jsx("p",{ref:h=>{i.current[a][s]=h},className:(o=c[a])!=null&&o[s]?"clamp-max":"clamp-min",style:{position:"relative"},dangerouslySetInnerHTML:{__html:p}}),((u=V[a])==null?void 0:u[s])&&r.jsx("button",{className:"see-more-btn",onClick:()=>k(a,s),children:(f=c[a])!=null&&f[s]?"See Less":"See More"})]},s)}),t.content.chlibLogo&&r.jsx("img",{src:t.content.chlibLogo,alt:"",className:"chlib-logo"}),t.content.customImage&&r.jsx("img",{src:t.content.customImage,alt:""}),t.content.buttonText&&r.jsx(X,{label:t.content.buttonText,className:"btn primary"}),t.content.staticLink&&r.jsx(A,{href:t.content.staticLink,label:t.content.staticLinkText||"",className:"link"}),t.content.terms&&r.jsx(A,{href:"#",label:"See Terms & Conditions",className:"arrow terms-link",onClick:p=>{p.preventDefault(),S(t.content.terms||[])}}),t.content.termsText&&r.jsx("small",{children:t.content.termsText})]})]},t.id)})})}),r.jsx(W,{isOpen:e,onClose:()=>N(!1),terms:y})]})};J.__docgenInfo={description:"",methods:[],displayName:"HeroBanner",props:{slides:{required:!0,tsType:{name:"Array",elements:[{name:"Slide"}],raw:"Slide[]"},description:""}}};const re=""+new URL("Now-TV-PL2526-750X700-EN-Bw5en6-b.jpg",import.meta.url).href,se=""+new URL("Now-TV-PL2526-1500X700-EN-lLmj4leC.jpg",import.meta.url).href,ie=""+new URL("NowOTT_750x700-EN-1-DiqZDuoS.jpg",import.meta.url).href,oe=""+new URL("NowOTT_1500x720-EN-1-sepwpXWZ.jpg",import.meta.url).href,le="data:image/svg+xml,%3csvg%20width='254'%20height='135'%20viewBox='0%200%20254%20135'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_137_219)'%3e%3cpath%20d='M35.0176%2097.4643C31.2007%2098.137%2027.3163%2098.3387%2023.2983%2098.8758L11.0426%2062.8495V100.422C7.22554%20100.825%203.74321%20101.363%200.126831%20101.9V33.0735H10.3064L24.2357%2072.1255V33.0735H35.0176V97.4643ZM56.1131%2058.2788C60.2653%2058.2788%2066.6274%2058.0771%2070.4445%2058.0771V68.831C65.6895%2068.831%2060.1314%2068.831%2056.1131%2069.0327V85.03C62.4084%2084.6269%2068.7034%2084.0886%2075.0652%2083.8869V94.2372L45.3978%2096.5903V33.0735H75.0652V43.8278H56.1131V58.2788ZM114.912%2043.828H103.795V93.2975C100.179%2093.2975%2096.5623%2093.2975%2093.0805%2093.4316V43.828H81.9636V33.0735H114.912L114.912%2043.828ZM132.324%2057.5396H146.99V68.2935H132.324V92.6924H121.809V33.0735H151.745V43.8278H132.324V57.5396ZM169.157%2083.2824C175.251%2083.4162%20181.412%2083.8877%20187.373%2084.2232V94.843C177.796%2094.2377%20168.219%2093.6338%20158.442%2093.4316V33.0735H169.157V83.2824ZM196.413%2095.5824C199.829%2095.7844%20203.445%2095.9861%20206.927%2096.3889V33.0735H196.413V95.5824ZM253.873%2033.0735L240.278%2065.8069L253.873%20101.9C249.855%20101.363%20245.836%20100.624%20241.818%2099.9513L234.117%2080.0564L226.282%2098.3387C222.397%2097.666%20218.647%2097.4643%20214.764%2096.9266L228.559%2065.4032L216.103%2033.0735H227.621L234.653%2051.1541L242.153%2033.0735H253.873Z'%20fill='%23D81F26'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_137_219'%3e%3crect%20width='254'%20height='68.9741'%20fill='white'%20transform='translate(0%2033)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";export{J as H,re as a,le as b,oe as c,ie as d,se as s};
