import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r as a}from"./iframe-D8wewh3m.js";import{C as x,c as j}from"./channels-CrHSy8ud.js";import{B as R}from"./Button-C3YrzklG.js";const A=({image:q,title:h,packDescription:k,channels:c,ondemands:d,isOnDemand:b=!1,onClose:N})=>{const[i,p]=a.useState(null),[t,u]=a.useState(null),[w,g]=a.useState(!1),[S,T]=a.useState(0),[C,D]=a.useState(!1),f=a.useRef(null);a.useEffect(()=>{requestAnimationFrame(()=>{D(!0)})},[]);const y=(s,l,m)=>{const $=l.currentTarget,o=f.current;if(o){o.querySelectorAll("li").forEach(n=>{n.style.marginBottom="8px"}),g(!1);const v=o.querySelector(".active");if(v&&(v.style.marginBottom="8px"),m==="channel"){const n=j.channels.find(r=>r.number===s.id);n&&p({id:n.number,name:n.name,description:n.description}),u(null)}else{const n=j.channels.find(r=>r.number===s.id);n&&u({id:n.number,name:n.name,description:n.description}),p(null)}setTimeout(()=>{g(!0)},50),setTimeout(()=>{const n=o.getBoundingClientRect(),I=$.getBoundingClientRect().bottom-n.top+8;T(I)},250),setTimeout(()=>{const n=document.querySelector(".channel-description");n&&console.log(n.offsetHeight),n.classList.add("show");const r=o.querySelector(".active");r&&(r.style.marginBottom=`${n.offsetHeight+8}px`)},350)}(m==="channel"&&(i==null?void 0:i.id)===s.id||m==="ondemand"&&(t==null?void 0:t.id)===s.id)&&(m==="channel"?p(null):u(null),g(!1))};return e.jsx("div",{className:`modal-wrapper ${C?"show":""}`,children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content-wrapper",children:[e.jsx("div",{className:"close-modal",children:e.jsx(R,{className:"close-btn",label:"Close",onClick:N})}),e.jsxs("div",{className:"pack-overlay-wrapper",children:[e.jsx("img",{src:q,alt:h,className:"pack-banner"}),e.jsx("div",{className:"pack-about-wrapper",children:e.jsxs("div",{className:"container",children:[e.jsx("h4",{children:h}),e.jsx("p",{dangerouslySetInnerHTML:{__html:k}})]})}),e.jsxs("div",{className:"channel-wrapper",ref:f,children:[b&&d.length>0&&e.jsx(x,{title:`${d.length} On-Demand Catalog${d.length!==1?"s":""}`,items:d,selectedItem:t,onItemClick:(s,l)=>y(s,l,"ondemand")}),c.length>0&&e.jsx(x,{title:`${c.length} Channel${c.length!==1?"s":""}`,items:c,selectedItem:i,onItemClick:(s,l)=>y(s,l,"channel")}),e.jsx("div",{className:`channel-description ${w&&(i||t)?"active":""}`,style:{top:`${S}px`},children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"channel-name",children:[i&&e.jsx("span",{children:`CH.${i.id}`}),e.jsx("h6",{children:(i==null?void 0:i.name)||(t==null?void 0:t.name)||""})]}),e.jsx("p",{children:(i==null?void 0:i.description)||(t==null?void 0:t.description)||""})]})})]})]})]})})})};A.__docgenInfo={description:"",methods:[],displayName:"PackOverlay",props:{image:{required:!0,tsType:{name:"string"},description:""},title:{required:!0,tsType:{name:"string"},description:""},packDescription:{required:!0,tsType:{name:"string"},description:""},channels:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    id: string;
    name?: string;
    description?: string;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!1}},{key:"description",value:{name:"string",required:!1}}]}}],raw:`Array<{
    id: string;
    name?: string;
    description?: string;
}>`},description:""},ondemands:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    id: string;
    name?: string;
    description?: string;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!1}},{key:"description",value:{name:"string",required:!1}}]}}],raw:`Array<{
    id: string;
    name?: string;
    description?: string;
}>`},description:""},isOnDemand:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{A as P};
