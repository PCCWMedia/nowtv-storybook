import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{r as k,e as q}from"./iframe-DZVqfSMv.js";import{g as _,S as z,a as X}from"./swiper-CtHe46mZ.js";import{P as Z}from"./pagination-XHpKwRxo.js";import{B as $}from"./Button-DyfeWQQM.js";import{L as U}from"./Link-BdlzbCO6.js";import{H as K}from"./HeroTermsOverlay-CrHvPJeG.js";function J(T){let{swiper:e,extendParams:O,on:y,emit:d,params:p}=T;e.autoplay={running:!1,paused:!1,timeLeft:0},O({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let E,N,x=p&&p.autoplay?p.autoplay.delay:3e3,v=p&&p.autoplay?p.autoplay.delay:3e3,o,j=new Date().getTime(),C,t,a,l,c,s,i;function u(n){!e||e.destroyed||!e.wrapperEl||n.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",u),!(i||n.detail&&n.detail.bySwiperTouchMove)&&S())}const f=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?C=!0:C&&(v=o,C=!1);const n=e.autoplay.paused?o:j+v-new Date().getTime();e.autoplay.timeLeft=n,d("autoplayTimeLeft",n,n/x),N=requestAnimationFrame(()=>{f()})},h=()=>{let n;return e.virtual&&e.params.virtual.enabled?n=e.slides.find(m=>m.classList.contains("swiper-slide-active")):n=e.slides[e.activeIndex],n?parseInt(n.getAttribute("data-swiper-autoplay"),10):void 0},w=n=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(N),f();let L=typeof n>"u"?e.params.autoplay.delay:n;x=e.params.autoplay.delay,v=e.params.autoplay.delay;const m=h();!Number.isNaN(m)&&m>0&&typeof n>"u"&&(L=m,x=m,v=m),o=L;const M=e.params.speed,H=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(M,!0,!0),d("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,M,!0,!0),d("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(M,!0,!0),d("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,M,!0,!0),d("autoplay")),e.params.cssMode&&(j=new Date().getTime(),requestAnimationFrame(()=>{w()})))};return L>0?(clearTimeout(E),E=setTimeout(()=>{H()},L)):requestAnimationFrame(()=>{H()}),L},D=()=>{j=new Date().getTime(),e.autoplay.running=!0,w(),d("autoplayStart")},g=()=>{e.autoplay.running=!1,clearTimeout(E),cancelAnimationFrame(N),d("autoplayStop")},b=(n,L)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(E),n||(s=!0);const m=()=>{d("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",u):S()};if(e.autoplay.paused=!0,L){c&&(o=e.params.autoplay.delay),c=!1,m();return}o=(o||e.params.autoplay.delay)-(new Date().getTime()-j),!(e.isEnd&&o<0&&!e.params.loop)&&(o<0&&(o=0),m())},S=()=>{e.isEnd&&o<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(j=new Date().getTime(),s?(s=!1,w(o)):w(),e.autoplay.paused=!1,d("autoplayResume"))},R=()=>{if(e.destroyed||!e.autoplay.running)return;const n=_();n.visibilityState==="hidden"&&(s=!0,b(!0)),n.visibilityState==="visible"&&S()},P=n=>{n.pointerType==="mouse"&&(s=!0,i=!0,!(e.animating||e.autoplay.paused)&&b(!0))},A=n=>{n.pointerType==="mouse"&&(i=!1,e.autoplay.paused&&S())},B=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",P),e.el.addEventListener("pointerleave",A))},F=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",P),e.el.removeEventListener("pointerleave",A))},I=()=>{_().addEventListener("visibilitychange",R)},V=()=>{_().removeEventListener("visibilitychange",R)};y("init",()=>{e.params.autoplay.enabled&&(B(),I(),D())}),y("destroy",()=>{F(),V(),e.autoplay.running&&g()}),y("_freeModeStaticRelease",()=>{(a||s)&&S()}),y("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?g():b(!0,!0)}),y("beforeTransitionStart",(n,L,m)=>{e.destroyed||!e.autoplay.running||(m||!e.params.autoplay.disableOnInteraction?b(!0,!0):g())}),y("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){g();return}t=!0,a=!1,s=!1,l=setTimeout(()=>{s=!0,a=!0,b(!0)},200)}}),y("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!t)){if(clearTimeout(l),clearTimeout(E),e.params.autoplay.disableOnInteraction){a=!1,t=!1;return}a&&e.params.cssMode&&S(),a=!1,t=!1}}),y("slideChange",()=>{e.destroyed||!e.autoplay.running||(c=!0)}),Object.assign(e.autoplay,{start:D,stop:g,pause:b,resume:S})}const Q=({slides:T})=>{const[e,O]=k.useState(!1),[y,d]=k.useState([]),[p,E]=k.useState({}),[N,x]=k.useState({}),v=t=>{const a=t.match(/<p[\s\S]*?>[\s\S]*?<\/p>/gi);return a?a.map(l=>l.replace(/<\/?p[\s\S]*?>/gi,"")):[t]},o=k.useRef({});k.useEffect(()=>{T.forEach(t=>{const a=t.id;v(t.content.description).forEach((c,s)=>{var u,f,h;const i=(f=(u=o.current)==null?void 0:u[a])==null?void 0:f[s];if(i){const w=i.style.webkitLineClamp;i.style.webkitLineClamp=(h=p[a])!=null&&h[s]?"7":"4";const D=i.scrollHeight>i.clientHeight+1;x(g=>({...g,[a]:{...g[a]||{},[s]:D}})),i.style.webkitLineClamp=w}})})},[T]),k.useEffect(()=>{const t=()=>{T.forEach(a=>{const l=a.id;v(a.content.description).forEach((s,i)=>{var f,h,w;const u=(h=(f=o.current)==null?void 0:f[l])==null?void 0:h[i];if(u){const D=u.style.webkitLineClamp;u.style.webkitLineClamp=(w=p[l])!=null&&w[i]?"7":"4";const g=u.scrollHeight>u.clientHeight+1;x(b=>({...b,[l]:{...b[l]||{},[i]:g}})),u.style.webkitLineClamp=D}})})};return window.addEventListener("resize",t),t(),()=>{window.removeEventListener("resize",t)}},[T,p]);const j=t=>{d(t),O(!0)},C=(t,a)=>{E(l=>{var c;return{...l,[t]:{...l[t]||{},[a]:!((c=l[t])!=null&&c[a])}}})};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hero-banner",children:r.jsx(z,{pagination:{clickable:!0},autoplay:{delay:8e3,disableOnInteraction:!1},modules:[Z,J],className:"mySwiper",children:T.map(t=>{const a=t.id,l=v(t.content.description);return o.current[a]||(o.current[a]={}),r.jsxs(X,{id:t.id,style:t.content.backgroundColor?{"--banner-bg-color":t.content.backgroundColor}:void 0,children:[r.jsxs("picture",{children:[r.jsx("source",{type:"image/jpeg",media:"(max-width: 991px)",srcSet:t.image.mobile}),r.jsx("source",{type:"image/jpeg",media:"(min-width: 992px)",srcSet:t.image.desktop}),r.jsx("img",{src:t.image.desktop,srcSet:`${t.image.mobile} 991w, ${t.image.desktop} 992w`,alt:""})]}),r.jsxs("div",{className:`banner-content ${t.content.isDark?"dark":""} ${t.content.isCentered?"text-center":""}`,children:[t.content.titleArt&&r.jsx("img",{src:t.content.titleArt,alt:"",className:"title-art"}),t.content.subtitle&&r.jsx("h5",{children:t.content.subtitle}),t.content.title&&r.jsx("h2",{children:t.content.title}),l.map((c,s)=>{var i,u,f;return r.jsxs(q.Fragment,{children:[r.jsx("p",{ref:h=>{o.current[a][s]=h},className:(i=p[a])!=null&&i[s]?"clamp-max":"clamp-min",style:{position:"relative"},dangerouslySetInnerHTML:{__html:c}}),((u=N[a])==null?void 0:u[s])&&r.jsx("button",{className:"see-more-btn",onClick:()=>C(a,s),children:(f=p[a])!=null&&f[s]?"See Less":"See More"})]},s)}),t.content.chlibLogo&&r.jsx("img",{src:t.content.chlibLogo,alt:"",className:"chlib-logo"}),t.content.customImage&&r.jsx("img",{src:t.content.customImage,alt:""}),t.content.buttonText&&r.jsx($,{label:t.content.buttonText,className:"btn primary"}),t.content.staticLink&&r.jsx(U,{href:t.content.staticLink,label:t.content.staticLinkText||"",className:"link"}),t.content.terms&&r.jsx(U,{href:"#",label:"See Terms & Conditions",className:"arrow terms-link",onClick:c=>{c.preventDefault(),j(t.content.terms||[])}}),t.content.termsText&&r.jsx("small",{children:t.content.termsText})]})]},t.id)})})}),r.jsx(K,{isOpen:e,onClose:()=>O(!1),terms:y})]})};Q.__docgenInfo={description:"",methods:[],displayName:"HeroBanner",props:{slides:{required:!0,tsType:{name:"Array",elements:[{name:"Slide"}],raw:"Slide[]"},description:""}}};const re=""+new URL("NowTV-King-of-Movie-750X700-EN-vJlQlquF.jpg",import.meta.url).href,se=""+new URL("NowTV-King-of-Movie-1500X720-EN-CHfKZClT.jpg",import.meta.url).href,oe=""+new URL("Now-TV-PL2526-750X700-EN-Bw5en6-b.jpg",import.meta.url).href,ie=""+new URL("Now-TV-PL2526-1500X700-EN-lLmj4leC.jpg",import.meta.url).href,le=""+new URL("uefa-mobile-Cw3MnIw5.jpg",import.meta.url).href,ue=""+new URL("uefa-desktop-DpzmaVZD.jpg",import.meta.url).href,pe=""+new URL("uefa-title-DhxIkdlf.png",import.meta.url).href,ce=""+new URL("NowOTT_750x700-EN-1-DiqZDuoS.jpg",import.meta.url).href,me=""+new URL("NowOTT_1500x720-EN-1-sepwpXWZ.jpg",import.meta.url).href,de=""+new URL("Panda_CH_750x700_bkg_20250602_en-BeEc9gbd.jpg",import.meta.url).href,fe=""+new URL("Panda_CH_1500x720_bkg_20250214_en-DPamvd5s.jpg",import.meta.url).href,ye=""+new URL("fake-mobile-BvA9ma0L.jpg",import.meta.url).href,ge=""+new URL("fake-desktop-DEAEze-V.jpg",import.meta.url).href;export{Q as H,re as a,ie as b,oe as c,me as d,ce as e,pe as f,ue as g,le as h,fe as i,de as j,ge as k,ye as l,se as s};
